---
title: "Spotify Streaming Analysis: Pre and Post Pandemic"
date: "`r Sys.Date()`"
output: pdf_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(ggplot2)
library(lubridate)
library(knitr)
```

# Introduction

This report explores the effect of the COVID-19 pandemic on Spotify music consumption. The dataset contains daily streaming numbers across multiple artists and countries from January 2019 to December 2021. The goal is to assess whether there was a noticeable impact on streaming trends after March 2020.

# Load Data

```{r}
# Load the dataset
spotify_data <- read_csv("spotify_data.csv")

# Inspect
head(spotify_data)
str(spotify_data)
```

# Data Exploration

## Summary Statistics

```{r}
# Summary of streaming numbers
summary(spotify_data$streams)

# Check for missing values
colSums(is.na(spotify_data))
```

## Streaming Trends Over Time

```{r}
# Create a pandemic period flag for plotting
pandemic_start <- as.Date("2020-03-01")
spotify_data <- spotify_data %>%
  mutate(pandemic_period = if_else(date < pandemic_start, "Before Pandemic", "After Pandemic"))

# Aggregate streams per day
daily_streams <- spotify_data %>%
  group_by(date, pandemic_period) %>%
  summarize(total_streams = sum(streams), .groups = 'drop')

# Plot daily streaming trends
ggplot(daily_streams, aes(x = date, y = total_streams, color = pandemic_period)) +
  geom_line(alpha = 0.7) +
  labs(title = "Daily Spotify Streams Over Time",
       x = "Date",
       y = "Total Streams",
       color = "Period") +
  theme_minimal()
```

# Conclusion

We observe that daily streams gradually declined after March 2020 before stabilizing, reflecting the simulated impact of the pandemic.